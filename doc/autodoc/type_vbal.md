# Module type_vbal

| Type | Name | Purpose | Arguments          |
| :--: | :--: | :------ | :----------------- |
| subroutine | [vbal_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L69) | allocation | **vbal** :  Vertical balance - class(vbal_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [vbal_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L101) | release memory (partial) | **vbal** :  Vertical balance - class(vbal_type) - inout |
| subroutine | [vbal_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L126) | release memory (full) | **vbal** :  Vertical balance - class(vbal_type) - inout |
| subroutine | [vbal_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L162) | read | **vbal** :  Vertical balance - class(vbal_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [vbal_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L233) | write | **vbal** :  Vertical balance - class(vbal_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [vbal_run_vbal](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L316) | compute vertical balance | **vbal** :  Vertical balance - class(vbal_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**ens** :  Ensemble - type(ens_type) - inout<br>**ensu** :  Unbalanced ensemble - type(ens_type) - inout |
| subroutine | [vbal_run_vbal_tests](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L447) | compute vertical balance tests | **vbal** :  Vertical balance - class(vbal_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in |
| subroutine | [vbal_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L479) | apply vertical balance | **vbal** :  Vertical balance - class(vbal_type) - in<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Source/destination vector - real(kind_real) - inout |
| subroutine | [vbal_apply_inv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L517) | apply inverse vertical balance | **vbal** :  Vertical balance - class(vbal_type) - in<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Source/destination vector - real(kind_real) - inout |
| subroutine | [vbal_apply_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L555) | apply adjoint vertical balance | **vbal** :  Vertical balance - class(vbal_type) - in<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Source/destination vector - real(kind_real) - inout |
| subroutine | [vbal_apply_inv_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L593) | apply inverse adjoint vertical balance | **vbal** :  Vertical balance - class(vbal_type) - in<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Source/destination vector - real(kind_real) - inout |
| subroutine | [vbal_test_inverse](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L632) | test vertical balance inverse | **vbal** :  Vertical balance - class(vbal_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [vbal_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L693) | test vertical balance adjoint | **vbal** :  Vertical balance - class(vbal_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [vbal_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal.F90#L764) | apply vertical balance to diracs | **vbal** :  Vertical balance - class(vbal_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in |
