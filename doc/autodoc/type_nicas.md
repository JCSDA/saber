# Module type_nicas

| Type | Name | Purpose | Arguments          |
| :--: | :--: | :------ | :----------------- |
| subroutine | [nicas_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L82) | allocation | **nicas** :  NICAS data - class(nicas_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L129) | release memory (partial) | **nicas** :  NICAS data - class(nicas_type) - inout |
| subroutine | [nicas_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L150) | release memory (full) | **nicas** :  NICAS data - class(nicas_type) - inout |
| subroutine | [nicas_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L181) | read | **nicas** :  NICAS data - class(nicas_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L281) | write | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_send](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L402) | send | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**iproc** :  Destination task - integer - in |
| subroutine | [nicas_receive](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L470) | receive | **nicas** :  NICAS data - class(nicas_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**iproc** :  Source task - integer - in |
| subroutine | [nicas_run_nicas](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L531) | NICAS driver | **nicas** :  NICAS data - class(nicas_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - inout<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**cmat** :  C matrix data - type(cmat_type) - in |
| subroutine | [nicas_run_nicas_tests](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L594) | NICAS tests driver | **nicas** :  NICAS data - class(nicas_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - inout<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in<br>**ens** :  Ensemble - type(ens_type) - in |
| subroutine | [nicas_alloc_cv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L691) | allocation | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**cv** :  Control vector - type(cv_type) - inout<br>**getsizeonly** :  Flag to get the control variable size only (no allocation) - logical - in |
| subroutine | [nicas_random_cv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L744) | generate a random control vector | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**cv** :  Control vector - type(cv_type) - out |
| subroutine | [nicas_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L810) | apply NICAS | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Field - real(kind_real) - inout |
| subroutine | [nicas_apply_from_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1013) | apply NICAS from square-root | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Field - real(kind_real) - inout |
| subroutine | [nicas_apply_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1060) | apply NICAS square-root | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**cv** :  Control variable - type(cv_type) - in<br>**fld** :  Field - real(kind_real) - out |
| subroutine | [nicas_apply_sqrt_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1221) | apply NICAS square-root, adjoint | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**fld** :  Field - real(kind_real) - in<br>**cv** :  Control variable - type(cv_type) - out |
| subroutine | [nicas_randomize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1414) | randomize NICAS from square-root | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Blocal parameters - type(bpar_type) - in<br>**ne** :  Number of members - integer - in<br>**ens** :  Ensemble - type(ens_type) - inout |
| subroutine | [nicas_apply_bens](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1458) | apply localized ensemble covariance | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Blocal parameters - type(bpar_type) - in<br>**ens** :  Ensemble - type(ens_type) - in<br>**fld** :  Field - real(kind_real) - inout |
| subroutine | [nicas_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1508) | test NICAS adjoint | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**ens** :  Ensemble - type(ens_type) - in |
| subroutine | [nicas_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1580) | apply NICAS to diracs | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in<br>**ens** :  Ensemble - type(ens_type) - in |
| subroutine | [nicas_test_randomization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1638) | test NICAS randomization method with respect to theoretical error statistics | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist variables - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_test_consistency](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1770) | test HDIAG-NICAS consistency with a randomization method | **nicas** :  NICAS data - class(nicas_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist variables - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - inout<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in |
| subroutine | [nicas_test_optimality](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1897) | test HDIAG localization optimality with a randomization method | **nicas** :  NICAS data - class(nicas_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist variables - type(nam_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in |
| subroutine | [define_test_vectors](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L2075) | define test vectors | **mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**ntest** :  Number of vectors - integer - in<br>**fld** :  Field - real(kind_real) - out |
