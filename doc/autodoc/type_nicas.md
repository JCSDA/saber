# Module type_nicas

| Type | Name | Purpose | Arguments |     | Type | Intent |
| :--: | :--: | :------ | ----: | :-------- | :--: | :----: |
| subroutine | [nicas_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L82) | allocation | **nicas**<br>**nam**<br>**bpar** |  NICAS data<br> Namelist<br> Block parameters | class(nicas_type)<br>type(nam_type)<br>type(bpar_type) | inout<br>in<br>in |
| subroutine | [nicas_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L129) | release memory (partial) | **nicas** |  NICAS data | class(nicas_type) | inout |
| subroutine | [nicas_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L150) | release memory (full) | **nicas** |  NICAS data | class(nicas_type) | inout |
| subroutine | [nicas_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L181) | read | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type) | inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L281) | write | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type) | in<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_send](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L402) | send | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**iproc** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Destination task | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer | in<br>inout<br>in<br>in<br>in<br>in |
| subroutine | [nicas_receive](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L470) | receive | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**iproc** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Source task | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer | inout<br>inout<br>in<br>in<br>in<br>in |
| subroutine | [nicas_run_nicas](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L531) | NICAS driver | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar**<br>**cmat** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> Block parameters<br> C matrix data | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(cmat_type) | inout<br>inout<br>inout<br>inout<br>inout<br>in<br>in |
| subroutine | [nicas_run_nicas_tests](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L594) | NICAS tests driver | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar**<br>**io**<br>**ens** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> Block parameters<br> I/O<br> Ensemble | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(io_type)<br>type(ens_type) | inout<br>inout<br>inout<br>inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_alloc_cv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L691) | allocation | **nicas**<br>**mpl**<br>**bpar**<br>**cv**<br>**getsizeonly** |  NICAS data<br> MPI data<br> Block parameters<br> Control vector<br> Flag to get the control variable size only (no allocation) | class(nicas_type)<br>type(mpl_type)<br>type(bpar_type)<br>type(cv_type)<br>logical | in<br>inout<br>in<br>inout<br>in |
| subroutine | [nicas_random_cv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L744) | generate a random control vector | **nicas**<br>**mpl**<br>**rng**<br>**bpar**<br>**cv** |  NICAS data<br> MPI data<br> Random number generator<br> Block parameters<br> Control vector | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(bpar_type)<br>type(cv_type) | in<br>inout<br>inout<br>in<br>out |
| subroutine | [nicas_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L810) | apply NICAS | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**fld** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Field | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>real(kind_real) | in<br>inout<br>in<br>in<br>in<br>inout |
| subroutine | [nicas_apply_from_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1013) | apply NICAS from square-root | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**fld** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Field | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>real(kind_real) | in<br>inout<br>in<br>in<br>in<br>inout |
| subroutine | [nicas_apply_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1060) | apply NICAS square-root | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**cv**<br>**fld** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Control variable<br> Field | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(cv_type)<br>real(kind_real) | in<br>inout<br>in<br>in<br>in<br>in<br>out |
| subroutine | [nicas_apply_sqrt_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1221) | apply NICAS square-root, adjoint | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**fld**<br>**cv** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Field<br> Control variable | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>real(kind_real)<br>type(cv_type) | in<br>inout<br>in<br>in<br>in<br>in<br>out |
| subroutine | [nicas_randomize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1414) | randomize NICAS from square-root | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar**<br>**ne**<br>**ens** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> Blocal parameters<br> Number of members<br> Ensemble | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer<br>type(ens_type) | in<br>inout<br>inout<br>in<br>in<br>in<br>in<br>inout |
| subroutine | [nicas_apply_bens](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1458) | apply localized ensemble covariance | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**ens**<br>**fld** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Blocal parameters<br> Ensemble<br> Field | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(ens_type)<br>real(kind_real) | in<br>inout<br>in<br>in<br>in<br>in<br>inout |
| subroutine | [nicas_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1508) | test NICAS adjoint | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar**<br>**ens** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> Block parameters<br> Ensemble | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(ens_type) | in<br>inout<br>inout<br>in<br>in<br>in<br>in |
| subroutine | [nicas_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1580) | apply NICAS to diracs | **nicas**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**io**<br>**ens** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> I/O<br> Ensemble | class(nicas_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(io_type)<br>type(ens_type) | in<br>inout<br>in<br>in<br>in<br>in<br>in |
| subroutine | [nicas_test_randomization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1638) | test NICAS randomization method with respect to theoretical error statistics | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist variables<br> Geometry<br> Block parameters | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type) | in<br>inout<br>inout<br>inout<br>in<br>in |
| subroutine | [nicas_test_consistency](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1770) | test HDIAG-NICAS consistency with a randomization method | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar**<br>**io** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist variables<br> Geometry<br> Block parameters<br> I/O | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(io_type) | inout<br>inout<br>inout<br>inout<br>inout<br>in<br>in |
| subroutine | [nicas_test_optimality](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1897) | test HDIAG localization optimality with a randomization method | **nicas**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**bpar**<br>**io** |  NICAS data<br> MPI data<br> Random number generator<br> Namelist variables<br> Geometry<br> Block parameters<br> I/O | class(nicas_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(io_type) | in<br>inout<br>inout<br>inout<br>in<br>in<br>in |
| subroutine | [define_test_vectors](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L2075) | define test vectors | **mpl**<br>**rng**<br>**nam**<br>**geom**<br>**ntest**<br>**fld** |  MPI data<br> Random number generator<br> Namelist<br> Geometry<br> Number of vectors<br> Field | type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>integer<br>real(kind_real) | inout<br>inout<br>in<br>in<br>in<br>out |
