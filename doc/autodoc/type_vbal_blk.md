# Module type_vbal_blk

| Type | Name | Purpose | Arguments |     | Type | Intent |
| :--: | :--: | :------ | ----: | :-------- | :--: | :----: |
| subroutine | [vbal_blk_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L58) | allocation | **vbal_blk**<br>**nam**<br>**geom**<br>**nc2b**<br>**iv**<br>**jv** |  Vertical balance block<br> Namelist<br> Geometry<br> Subset Sc2 size, halo B<br> First variable index<br> Second variable index | class(vbal_blk_type)<br>type(nam_type)<br>type(geom_type)<br>integer<br>integer<br>integer | inout<br>in<br>in<br>in<br>in<br>in |
| subroutine | [vbal_blk_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L82) | release memory (partial) | **vbal_blk** |  Vertical balance block | class(vbal_blk_type) | inout |
| subroutine | [vbal_blk_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L100) | release memory (full) | **vbal_blk** |  Vertical balance block | class(vbal_blk_type) | inout |
| subroutine | [vbal_blk_compute_covariances](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L123) | compute auto- and cross-covariances | **vbal_blk**<br>**mpl**<br>**geom**<br>**samp**<br>**ens**<br>**auto**<br>**cross** |  Vertical balance block<br> MPI data<br> Geometry<br> Sampling<br> Ensemble<br> Auto-covariance<br> Cross-covariance | class(vbal_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>type(samp_type)<br>type(ens_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>in<br>out<br>out |
| subroutine | [vbal_blk_compute_regression](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L219) | compute regression | **vbal_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**samp**<br>**nsub**<br>**auto**<br>**cross**<br>**ic2b** |  Vertical balance block<br> MPI data<br> Namelist<br> Geometry<br> Sampling<br> Number of sub-ensembles<br> Auto-covariance<br> Cross-covariance<br> Index | class(vbal_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(samp_type)<br>integer<br>real(kind_real)<br>real(kind_real)<br>integer | inout<br>inout<br>in<br>in<br>in<br>in<br>in<br>in<br>in |
| subroutine | [vbal_blk_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L332) | apply vertical balance block | **vbal_blk**<br>**geom**<br>**h_n_s**<br>**h_c2b**<br>**h_S**<br>**fld** |  Vertical balance block<br> Geometry<br> Number of neighbors for the horizontal interpolation<br> Index of neighbors for the horizontal interpolation<br> Weight of neighbors for the horizontal interpolation<br> Source/destination vector | class(vbal_blk_type)<br>type(geom_type)<br>integer<br>integer<br>real(kind_real)<br>real(kind_real) | in<br>in<br>in<br>in<br>in<br>inout |
| subroutine | [vbal_blk_apply_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_vbal_blk.F90#L376) | apply adjoint vertical balance block | **vbal_blk**<br>**geom**<br>**h_n_s**<br>**h_c2b**<br>**h_S**<br>**fld** |  Vertical balance block<br> Geometry<br> Number of neighbors for the horizontal interpolation<br> Index of neighbors for the horizontal interpolation<br> Weight of neighbors for the horizontal interpolation<br> Source/destination vector | class(vbal_blk_type)<br>type(geom_type)<br>integer<br>integer<br>real(kind_real)<br>real(kind_real) | in<br>in<br>in<br>in<br>in<br>inout |
