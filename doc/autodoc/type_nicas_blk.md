# Module type_nicas_blk

| Type | Name | Purpose | Arguments |     | Type | Intent |
| :--: | :--: | :------ | ----: | :-------- | :--: | :----: |
| subroutine | [balldata_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L264) | allocation | **balldata** |  Ball data | class(balldata_type) | inout |
| subroutine | [balldata_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L282) | release memory | **balldata** |  Ball data | class(balldata_type) | inout |
| subroutine | [balldata_pack](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L304) | pack data into balldata object | **balldata**<br>**mpl**<br>**nc1u**<br>**nl1**<br>**val(nc1u,nl1)** |  Ball data<br> MPI data<br> Horizontal box size<br> Vertical box size<br> Box value | class(balldata_type)<br>type(mpl_type)<br>integer<br>integer<br>real(kind_real) | inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_blk_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L339) | release memory (partial) | **nicas_blk** |  NICAS data block | class(nicas_blk_type) | inout |
| subroutine | [nicas_blk_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L423) | release memory (full) | **nicas_blk** |  NICAS data block | class(nicas_blk_type) | inout |
| subroutine | [nicas_blk_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L482) | read | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**ncid** |  NICAS data<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> NetCDF file | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer | inout<br>inout<br>in<br>in<br>in<br>in |
| subroutine | [nicas_blk_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L618) | write | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**ncid** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> NetCDF file | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer | in<br>inout<br>in<br>in<br>in<br>in |
| subroutine | [nicas_blk_write_grids](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L723) | write NICAS grids | **nicas_blk**<br>**mpl**<br>**ncid** |  NICAS data block<br> MPI data<br> NetCDF file | class(nicas_blk_type)<br>type(mpl_type)<br>integer | in<br>inout<br>in |
| subroutine | [nicas_blk_buffer_size](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L786) | buffer size | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**nbufi**<br>**nbufr**<br>**nbufl** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Buffer size (integer)<br> Buffer size (real)<br> Buffer size (logical) | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer<br>integer<br>integer | in<br>inout<br>in<br>in<br>in<br>out<br>out<br>out |
| subroutine | [nicas_blk_serialize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L862) | serialize | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**nbufi**<br>**nbufr**<br>**nbufl**<br>**bufi(nbufi)**<br>**bufr(nbufr)**<br>**bufl(nbufl)** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Buffer size (integer)<br> Buffer size (real)<br> Buffer size (logical)<br> Buffer (integer)<br> Buffer (real)<br> Buffer (logical) | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer<br>integer<br>integer<br>integer<br>real(kind_real)<br>logical | in<br>inout<br>in<br>in<br>in<br>in<br>in<br>in<br>out<br>out<br>out |
| subroutine | [nicas_blk_deserialize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1038) | deserialize | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**nbufi**<br>**nbufr**<br>**nbufl**<br>**bufi(nbufi)**<br>**bufr(nbufr)**<br>**bufl(nbufl)** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> Buffer size (integer)<br> Buffer size (real)<br> Buffer size (logical)<br> Buffer (integer)<br> Buffer (real)<br> Buffer (logical) | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>integer<br>integer<br>integer<br>integer<br>real(kind_real)<br>logical | inout<br>inout<br>in<br>in<br>in<br>in<br>in<br>in<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_parameters](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1256) | compute NICAS parameters | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**cmat_blk**<br>**sqrt_rescaling** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> C matrix data block<br> Square-root rescaling flag | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(cmat_blk_type)<br>logical | inout<br>inout<br>inout<br>in<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_parameters_horizontal_smoother](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1398) | compute NICAS parameters for a horizontal smoother | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**rhflt(geom%nl0)** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> Horizontal support radius profile | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>real(kind_real) | inout<br>inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_sampling_c1](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1472) | compute NICAS sampling, subset Sc1 | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**cmat_blk** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> C matrix data block | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(cmat_blk_type) | inout<br>inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_sampling_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1625) | compute NICAS sampling, vertical dimension | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**cmat_blk** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry<br> C matrix data block | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(cmat_blk_type) | inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_mpi_a](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1719) | compute NICAS MPI distribution, halos A | **nicas_blk**<br>**mpl**<br>**geom** |  NICAS data block<br> MPI data<br> Geometry | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type) | inout<br>inout<br>in |
| subroutine | [nicas_blk_compute_sampling_c2](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1792) | compute NICAS sampling, subset Sc2 | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**cmat_blk** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> C matrix data block | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(cmat_blk_type) | inout<br>inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_mpi_ab](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1919) | compute NICAS MPI distribution, halos A-B | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type) | inout<br>inout<br>inout<br>in<br>in |
| subroutine | [nicas_blk_compute_interp_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2180) | compute vertical interpolation | **nicas_blk**<br>**geom** |  NICAS data block<br> Geometry | class(nicas_blk_type)<br>type(geom_type) | inout<br>in |
| subroutine | [nicas_blk_compute_convol](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2267) | compute convolution | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom**<br>**cmat_blk** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry<br> C matrix data block | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type)<br>type(cmat_blk_type) | inout<br>inout<br>inout<br>in<br>in<br>in |
| subroutine | [nicas_blk_compute_convol_network](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2690) | compute convolution with a network approach | **nicas_blk**<br>**mpl**<br>**rng**<br>**nam**<br>**geom** |  NICAS data block<br> MPI data<br> Random number generator<br> Namelist<br> Geometry | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(nam_type)<br>type(geom_type) | inout<br>inout<br>inout<br>in<br>in |
| subroutine | [nicas_blk_compute_convol_distance](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2935) | compute convolution with a distance approach | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type) | inout<br>inout<br>in<br>in |
| subroutine | [nicas_blk_compute_convol_weights](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3121) | compute convolution weights | **nicas_blk**<br>**mpl**<br>**geom**<br>**ctmp** |  NICAS data block<br> MPI data<br> Geometry<br> Convolution operator | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>type(linop_type) | inout<br>inout<br>in<br>inout |
| subroutine | [nicas_blk_compute_mpi_c](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3225) | compute NICAS MPI distribution, halo C | **nicas_blk**<br>**mpl** |  NICAS data block<br> MPI data | class(nicas_blk_type)<br>type(mpl_type) | inout<br>inout |
| subroutine | [nicas_blk_compute_internal_normalization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3375) | compute internal normalization | **nicas_blk**<br>**mpl** |  NICAS data block<br> MPI data | class(nicas_blk_type)<br>type(mpl_type) | inout<br>inout |
| subroutine | [nicas_blk_compute_normalization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3447) | compute normalization | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type) | inout<br>inout<br>in<br>in |
| subroutine | [nicas_blk_compute_grids](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3694) | compute grids | **nicas_blk**<br>**nam** |  NICAS data block<br> Namelist | class(nicas_blk_type)<br>type(nam_type) | inout<br>in |
| subroutine | [nicas_blk_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3765) | apply NICAS method | **nicas_blk**<br>**mpl**<br>**geom**<br>**fld(geom%nc0a,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real) | in<br>inout<br>in<br>inout |
| subroutine | [nicas_blk_apply_from_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3844) | apply NICAS method from its square-root formulation | **nicas_blk**<br>**mpl**<br>**geom**<br>**fld(geom%nc0a,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real) | in<br>inout<br>in<br>inout |
| subroutine | [nicas_blk_apply_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3870) | apply NICAS method square-root | **nicas_blk**<br>**mpl**<br>**geom**<br>**alpha(nicas_blk%nsa)**<br>**fld(geom%nc0a,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Subgrid field<br> Field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_sqrt_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3914) | apply NICAS method square-root adjoint | **nicas_blk**<br>**mpl**<br>**geom**<br>**fld(geom%nc0a,geom%nl0)**<br>**alpha(nicas_blk%nsa)** |  NICAS data block<br> MPI data<br> Geometry<br> Field<br> Subgrid field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3961) | apply interpolation | **nicas_blk**<br>**mpl**<br>**geom**<br>**alpha(nicas_blk%nsb)**<br>**fld(geom%nc0a,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Subgrid field<br> Field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3990) | apply interpolation adjoint | **nicas_blk**<br>**mpl**<br>**geom**<br>**fld(geom%nc0a,geom%nl0)**<br>**alpha(nicas_blk%nsb)** |  NICAS data block<br> MPI data<br> Geometry<br> Field<br> Subgrid field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_h](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4019) | apply horizontal interpolation | **nicas_blk**<br>**mpl**<br>**geom**<br>**delta(nicas_blk%nc1b,geom%nl0)**<br>**fld(geom%nc0a,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Subset Sc1 field, full levels<br> Field | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_h_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4050) | apply horizontal interpolation adjoint | **nicas_blk**<br>**mpl**<br>**geom**<br>**fld(geom%nc0a,geom%nl0)**<br>**delta(nicas_blk%nc1b,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Field<br> Subset Sc1 field, full levels | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4080) | apply vertical interpolation | **nicas_blk**<br>**mpl**<br>**geom**<br>**gamma(nicas_blk%nc1b,nicas_blk%nl1)**<br>**delta(nicas_blk%nc1b,geom%nl0)** |  NICAS data block<br> MPI data<br> Geometry<br> Subset Sc1 field, limited levels<br> Subset Sc1 field, full levels | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_v_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4129) | apply vertical interpolation adjoint | **nicas_blk**<br>**mpl**<br>**geom**<br>**delta(nicas_blk%nc1b,geom%nl0)**<br>**gamma(nicas_blk%nc1b,nicas_blk%nl1)** |  NICAS data block<br> MPI data<br> Geometry<br> Subset Sc1 field, full levels<br> Subset Sc1 field, limited levels | class(nicas_blk_type)<br>type(mpl_type)<br>type(geom_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_s](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4171) | apply subsampling interpolation | **nicas_blk**<br>**mpl**<br>**alpha(nicas_blk%nsb)**<br>**gamma(nicas_blk%nc1b,nicas_blk%nl1)** |  NICAS data block<br> MPI data<br> Subgrid field<br> Subset Sc1 field, limited levels | class(nicas_blk_type)<br>type(mpl_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>out |
| subroutine | [nicas_blk_apply_interp_s_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4208) | apply subsampling interpolation adjoint | **nicas_blk**<br>**mpl**<br>**gamma(nicas_blk%nc1b,nicas_blk%nl1)**<br>**alpha(nicas_blk%nsb)** |  NICAS data block<br> MPI data<br> Subset Sc1 field, limited levels<br> Subgrid field | class(nicas_blk_type)<br>type(mpl_type)<br>real(kind_real)<br>real(kind_real) | in<br>inout<br>in<br>out |
| subroutine | [nicas_blk_apply_convol](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4241) | apply convolution | **nicas_blk**<br>**mpl**<br>**alpha(nicas_blk%nsc)** |  NICAS data block<br> MPI data<br> Subgrid field | class(nicas_blk_type)<br>type(mpl_type)<br>real(kind_real) | in<br>inout<br>inout |
| subroutine | [nicas_blk_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4276) | test NICAS adjoint accuracy | **nicas_blk**<br>**mpl**<br>**rng**<br>**geom** |  NICAS data block<br> MPI data<br> Random number generator<br> Geometry | class(nicas_blk_type)<br>type(mpl_type)<br>type(rng_type)<br>type(geom_type) | in<br>inout<br>inout<br>in |
| subroutine | [nicas_blk_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4514) | apply NICAS to diracs | **nicas_blk**<br>**mpl**<br>**nam**<br>**geom**<br>**bpar**<br>**io** |  NICAS data block<br> MPI data<br> Namelist<br> Geometry<br> Block parameters<br> I/O | class(nicas_blk_type)<br>type(mpl_type)<br>type(nam_type)<br>type(geom_type)<br>type(bpar_type)<br>type(io_type) | in<br>inout<br>in<br>in<br>in<br>in |
