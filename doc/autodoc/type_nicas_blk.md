# Module type_nicas_blk

| Type | Name | Purpose | Arguments          |
| :--: | :--: | :------ | :----------------- |
| subroutine | [balldata_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L264) | allocation | **balldata** :  Ball data - class(balldata_type) - inout |
| subroutine | [balldata_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L282) | release memory | **balldata** :  Ball data - class(balldata_type) - inout |
| subroutine | [balldata_pack](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L304) | pack data into balldata object | **balldata** :  Ball data - class(balldata_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nc1u** :  Horizontal box size - integer - in<br>**nl1** :  Vertical box size - integer - in<br>**val** :  Box value - real(kind_real) - in |
| subroutine | [nicas_blk_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L339) | release memory (partial) | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout |
| subroutine | [nicas_blk_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L423) | release memory (full) | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout |
| subroutine | [nicas_blk_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L482) | read | **nicas_blk** :  NICAS data - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**ncid** :  NetCDF file - integer - in |
| subroutine | [nicas_blk_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L618) | write | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**ncid** :  NetCDF file - integer - in |
| subroutine | [nicas_blk_write_grids](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L723) | write NICAS grids | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**ncid** :  NetCDF file - integer - in |
| subroutine | [nicas_blk_buffer_size](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L786) | buffer size | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**nbufi** :  Buffer size (integer) - integer - out<br>**nbufr** :  Buffer size (real) - integer - out<br>**nbufl** :  Buffer size (logical) - integer - out |
| subroutine | [nicas_blk_serialize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L862) | serialize | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**nbufi** :  Buffer size (integer) - integer - in<br>**nbufr** :  Buffer size (real) - integer - in<br>**nbufl** :  Buffer size (logical) - integer - in<br>**bufi** :  Buffer (integer) - integer - out<br>**bufr** :  Buffer (real) - real(kind_real) - out<br>**bufl** :  Buffer (logical) - logical - out |
| subroutine | [nicas_blk_deserialize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1038) | deserialize | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**nbufi** :  Buffer size (integer) - integer - in<br>**nbufr** :  Buffer size (real) - integer - in<br>**nbufl** :  Buffer size (logical) - integer - in<br>**bufi** :  Buffer (integer) - integer - in<br>**bufr** :  Buffer (real) - real(kind_real) - in<br>**bufl** :  Buffer (logical) - logical - in |
| subroutine | [nicas_blk_compute_parameters](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1256) | compute NICAS parameters | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**cmat_blk** :  C matrix data block - type(cmat_blk_type) - in<br>**sqrt_rescaling** :  Square-root rescaling flag - logical - in |
| subroutine | [nicas_blk_compute_parameters_horizontal_smoother](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1398) | compute NICAS parameters for a horizontal smoother | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**rhflt** :  Horizontal support radius profile - real(kind_real) - in |
| subroutine | [nicas_blk_compute_sampling_c1](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1472) | compute NICAS sampling, subset Sc1 | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**cmat_blk** :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_sampling_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1625) | compute NICAS sampling, vertical dimension | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**cmat_blk** :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_mpi_a](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1719) | compute NICAS MPI distribution, halos A | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_sampling_c2](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1792) | compute NICAS sampling, subset Sc2 | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**cmat_blk** :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_mpi_ab](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1919) | compute NICAS MPI distribution, halos A-B | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_interp_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2180) | compute vertical interpolation | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_convol](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2267) | compute convolution | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**cmat_blk** :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_convol_network](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2690) | compute convolution with a network approach | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_convol_distance](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2935) | compute convolution with a distance approach | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_convol_weights](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3121) | compute convolution weights | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**ctmp** :  Convolution operator - type(linop_type) - inout |
| subroutine | [nicas_blk_compute_mpi_c](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3225) | compute NICAS MPI distribution, halo C | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout |
| subroutine | [nicas_blk_compute_internal_normalization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3375) | compute internal normalization | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout |
| subroutine | [nicas_blk_compute_normalization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3447) | compute normalization | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_grids](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3694) | compute grids | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - inout<br>**nam** :  Namelist - type(nam_type) - in |
| subroutine | [nicas_blk_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3765) | apply NICAS method | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**fld** :  Field - real(kind_real) - inout |
| subroutine | [nicas_blk_apply_from_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3844) | apply NICAS method from its square-root formulation | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**fld** :  Field - real(kind_real) - inout |
| subroutine | [nicas_blk_apply_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3870) | apply NICAS method square-root | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**alpha** :  Subgrid field - real(kind_real) - in<br>**fld** :  Field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_sqrt_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3914) | apply NICAS method square-root adjoint | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**fld** :  Field - real(kind_real) - in<br>**alpha** :  Subgrid field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3961) | apply interpolation | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**alpha** :  Subgrid field - real(kind_real) - in<br>**fld** :  Field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3990) | apply interpolation adjoint | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**fld** :  Field - real(kind_real) - in<br>**alpha** :  Subgrid field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_h](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4019) | apply horizontal interpolation | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**delta** :  Subset Sc1 field, full levels - real(kind_real) - in<br>**fld** :  Field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_h_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4050) | apply horizontal interpolation adjoint | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**fld** :  Field - real(kind_real) - in<br>**delta** :  Subset Sc1 field, full levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4080) | apply vertical interpolation | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**gamma** :  Subset Sc1 field, limited levels - real(kind_real) - in<br>**delta** :  Subset Sc1 field, full levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_v_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4129) | apply vertical interpolation adjoint | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**geom** :  Geometry - type(geom_type) - in<br>**delta** :  Subset Sc1 field, full levels - real(kind_real) - in<br>**gamma** :  Subset Sc1 field, limited levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_s](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4171) | apply subsampling interpolation | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**alpha** :  Subgrid field - real(kind_real) - in<br>**gamma** :  Subset Sc1 field, limited levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_s_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4208) | apply subsampling interpolation adjoint | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**gamma** :  Subset Sc1 field, limited levels - real(kind_real) - in<br>**alpha** :  Subgrid field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_convol](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4241) | apply convolution | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**alpha** :  Subgrid field - real(kind_real) - inout |
| subroutine | [nicas_blk_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4276) | test NICAS adjoint accuracy | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**rng** :  Random number generator - type(rng_type) - inout<br>**geom** :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4514) | apply NICAS to diracs | **nicas_blk** :  NICAS data block - class(nicas_blk_type) - in<br>**mpl** :  MPI data - type(mpl_type) - inout<br>**nam** :  Namelist - type(nam_type) - in<br>**geom** :  Geometry - type(geom_type) - in<br>**bpar** :  Block parameters - type(bpar_type) - in<br>**io** :  I/O - type(io_type) - in |
