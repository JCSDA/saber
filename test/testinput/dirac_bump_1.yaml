geometry:
  function space: StructuredColumns
  grid:
    type: regular_lonlat
    N: 10
  levels: 2
  mask type: sea
  halo: 1
initial condition:
  date: '2010-01-01T12:00:00Z'
  state variables: &id001
  - var1
  - var2
background error:
  covariance model: SABER
  saber central block:
    saber block name: BUMP_NICAS
    bump:
      datadir: testdata
      prefix: dirac_bump_1/_MPI_-_OMP_
      testing: true
      nprocio: 1
      strategy: specific_univariate
      load_nicas_local: true
      fname_nicas: error_covariance_training_bump_hdiag-nicas_1/_MPI_-_OMP__nicas
  saber outer blocks:
  - saber block name: BUMP_StdDev
    bump:
      datadir: testdata
      prefix: dirac_bump_1/_MPI_-_OMP_
      testing: true
      new_var: true
      forced_var: true
      stddev:
        var1: [1.0]
        var2: [2.0]
  - saber block name: StdDev
    input fields:
    - parameter: StdDev
      file:
        filepath: testdata/error_covariance_training_bump_stddev_3/stddev
  - saber block name: BUMP_VerticalBalance
    bump:
      datadir: testdata
      prefix: dirac_bump_1/_MPI_-_OMP_
      testing: true
      vbal_block: [true]      
      load_vbal: true
      load_samp_local: true
      fname_samp: error_covariance_training_bump_vbal_1/_MPI_-_OMP__sampling
      fname_vbal: error_covariance_training_bump_vbal_1/_MPI_-_OMP__vbal
dirac:
  lon:
  - 1.980931
  lat:
  - 44.220188
  level:
  - 1
  variable: [var1]
output dirac:
  filepath: testdata/dirac_bump_1/dirac_%id%
test:
  reference filename: testref/dirac_bump_1.ref
