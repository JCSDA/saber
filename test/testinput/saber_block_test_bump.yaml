geometry:
  function space: StructuredColumns
  grid:
    type: regular_lonlat
    N: 10
  levels: 2
  halo: 1
variables: &id001
- var3
- var4
background:
  date: '2010-01-01T12:00:00Z'
  state variables: *id001
saber central block:
  saber block name: BUMP_NICAS
  bump:
    general:
      testing: true
    io:
      data directory: testdata
      files prefix: saber_block_test_bump/_MPI_-_OMP_
      io task number: 1
      overriding nicas file: error_covariance_training_bump_hdiag-nicas_1/_MPI_-_OMP__nicas
    drivers:
      multivariate strategy: specific_univariate
      read local nicas: true
  input fields:
  - parameter: universe radius
    file:
      filepath: testdata/error_covariance_training_bump_hdiag-nicas_1/_MPI_-_OMP__cor_rh_2
saber outer blocks:
- saber block name: BUMP_StdDev
  bump:
    general:
      testing: true
    io:
      data directory: testdata
      files prefix: saber_block_test_bump/_MPI_-_OMP_
    drivers:
      compute variance: true
    variance:
      explicit stddev: true
      stddev:
      - variables:
        - var1
        value: 1.0
      - variables:
        - var2
        value: 2.0
- saber block name: StdDev
  input fields:
  - parameter: StdDev
    file:
      filepath: testdata/error_covariance_training_bump_stddev_3//_MPI_-_OMP__stddev
- saber block name: BUMP_VerticalBalance
  bump:
    general:
      testing: true
    io:
      data directory: testdata
      files prefix: saber_block_test_bump/_MPI_-_OMP_
      overriding sampling file: error_covariance_training_bump_vbal_1/_MPI_-_OMP__sampling
      overriding vertical balance file: error_covariance_training_bump_vbal_1/_MPI_-_OMP__vbal
    drivers:
      read local sampling: true
      read vertical balance: true
    vertical balance:
      vbal:
      - balanced variable: var2
        unbalanced variable: var1
- saber block name: BUMP_PsiChiToUV
  active variables:
  - var1
  - var2
  - var3
  - var4
  bump:
    general:
      testing: true
    io:
      data directory: testdata
      files prefix: saber_block_test_bump/_MPI_-_OMP_
      io task number: 1
      overriding psichitouv file: error_covariance_training_bump_wind/_MPI_-_OMP__wind
    drivers:
      read local psichitouv: true
    psichitouv:
      stream function: var1
      velocity potential: var2
      eastward wind: var3
      northward wind: var4
test:
  reference filename: testref/saber_block_test_bump.ref
