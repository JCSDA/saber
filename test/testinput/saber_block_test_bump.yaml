geometry:
  function space: StructuredColumns
  grid:
    type: regular_lonlat
    N: 10
  levels: 2
  halo: 1
variables: &id001
- var3
- var4
background:
  date: '2010-01-01T12:00:00Z'
  state variables: *id001
saber central block:
  saber block name: BUMP_NICAS
  bump:
    general:
      datadir: testdata
      prefix: saber_block_test_bump/_MPI_-_OMP_
      testing: true
      nprocio: 1
    drivers:
      strategy: specific_univariate
      load_nicas_local: true
    fname_nicas: error_covariance_training_bump_hdiag-nicas_1/_MPI_-_OMP__nicas
  input fields:
  - parameter: universe radius
    file:
      filepath: testdata/error_covariance_training_bump_hdiag-nicas_1/_MPI_-_OMP__cor_rh_2
saber outer blocks:
- saber block name: BUMP_StdDev
  bump:
    general:
      datadir: testdata
      prefix: saber_block_test_bump/_MPI_-_OMP_
      testing: true
    drivers:
      new_var: true
    forced_var: true
    stddev:
      var1:
      - 1.0
      var2:
      - 2.0
- saber block name: StdDev
  input fields:
  - parameter: StdDev
    file:
      filepath: testdata/error_covariance_training_bump_stddev_3/_MPI_-_OMP__stddev
- saber block name: BUMP_VerticalBalance
  bump:
    general:
      datadir: testdata
      prefix: saber_block_test_bump/_MPI_-_OMP_
      testing: true
    drivers:
      load_vbal: true
      load_samp_local: true
    vbal:
    - balanced: var2
      unbalanced: var1
    fname_samp: error_covariance_training_bump_vbal_1/_MPI_-_OMP__sampling
    fname_vbal: error_covariance_training_bump_vbal_1/_MPI_-_OMP__vbal
- saber block name: BUMP_PsiChiToUV
  active variables:
  - var1
  - var2
  - var3
  - var4
  bump:
    general:
      datadir: testdata
      prefix: saber_block_test_bump/_MPI_-_OMP_
      testing: true
      nprocio: 1
    drivers:
      load_wind_local: true
    fname_wind: error_covariance_training_bump_wind/_MPI_-_OMP__wind
    wind_streamfunction: var1
    wind_velocity_potential: var2
    wind_zonal: var3
    wind_meridional: var4
test:
  reference filename: testref/saber_block_test_bump.ref
