geometry:
  function space: StructuredColumns
  grid:
    type: regular_lonlat
    N: 30
  groups:
  - variables:
    - snow_depth
    levels: 1
    vert_coord: [0.0]
    orography: 
      top longitude: 180.0
      top latitude: 0.0
      zonal length: 6000.0e3
      meridional length: 12000.0e3
      height: 1.0
  - variables:
    - snow_depth_fakeLevels
    levels: 11
  halo: 1
background:
  date: 2010-01-01T12:00:00Z
  state variables:
  - snow_depth
background error:
  covariance model: SABER
  saber central block:
    saber block name: BUMP_NICAS
    read:
      general:
        testing: true
        universe length-scale: 10000.0e3
      io:
        data directory: testdata
        files prefix: dirac_fakelevels_5/_MPI_-_OMP_
        overriding nicas file: dirac_fakelevels_4/_MPI_-_OMP__nicas
      drivers:
        multivariate strategy: univariate
        read local nicas: true
        adjoints test: true
      nicas:
        same horizontal convolution: true
  saber outer blocks:
  - saber block name: FakeLevels
    read:
      number of fake levels: 11
      input model files:
      - parameter: weight
        file:
          overriding variables: [snow_depth_fakeLevels]
          filepath: testdata/dirac_fakelevels_4/_MPI_-_OMP__weight
dirac:
  lon:
  - 180.0
  lat:
  - 0.0
  level:
  - 1
  variable:
  - snow_depth
output dirac:
  mpi pattern: '%MPI%'
  filepath: testdata/dirac_fakelevels_5/%MPI%_dirac_%id%
test:
  reference filename: testref/dirac_fakelevels_5.ref
