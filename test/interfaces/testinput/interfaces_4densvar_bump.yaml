cost_function:
  cost_type: 4D-Ens-Var
  Jb:
    Background:
      state:
      - date: 2010-01-01T00:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1D
      - date: 2010-01-01T01:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT1H
      - date: 2010-01-01T02:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT2H
      - date: 2010-01-01T03:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT3H
      - date: 2010-01-01T04:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT4H
      - date: 2010-01-01T05:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT5H
      - date: 2010-01-01T06:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT6H
      - date: 2010-01-01T07:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT7H
      - date: 2010-01-01T08:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT8H
      - date: 2010-01-01T09:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT9H
      - date: 2010-01-01T10:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT10H
      - date: 2010-01-01T11:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT11H
      - date: 2010-01-01T12:00:00Z
        filename: Data/forecast.fc.2009-12-31T00:00:00Z.P1DT12H
    Covariance:
      covariance: ensemble
      ensemble:
      localization:
        bump:
          datadir: bump
          method: loc
          mpicom: 2
          load_nicas: 1
          prefix: 4densvar_bump
          strategy: common
        localization: BUMP
        timeslots:
        - 2010-01-01T00:00:00Z
        - 2010-01-01T01:00:00Z
        - 2010-01-01T02:00:00Z
        - 2010-01-01T03:00:00Z
        - 2010-01-01T04:00:00Z
        - 2010-01-01T05:00:00Z
        - 2010-01-01T06:00:00Z
        - 2010-01-01T07:00:00Z
        - 2010-01-01T08:00:00Z
        - 2010-01-01T09:00:00Z
        - 2010-01-01T10:00:00Z
        - 2010-01-01T11:00:00Z
        - 2010-01-01T12:00:00Z
        variables:
        - x
      members:
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.1.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.2.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.3.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.4.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.5.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.6.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.7.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.8.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.9.2009-12-31T00:00:00Z.P1DT12H
      - state:
        - date: 2010-01-01T00:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1D
        - date: 2010-01-01T01:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT1H
        - date: 2010-01-01T02:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT2H
        - date: 2010-01-01T03:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT3H
        - date: 2010-01-01T04:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT4H
        - date: 2010-01-01T05:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT5H
        - date: 2010-01-01T06:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT6H
        - date: 2010-01-01T07:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT7H
        - date: 2010-01-01T08:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT8H
        - date: 2010-01-01T09:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT9H
        - date: 2010-01-01T10:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT10H
        - date: 2010-01-01T11:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT11H
        - date: 2010-01-01T12:00:00Z
          filename: Data/forecast.ens.10.2009-12-31T00:00:00Z.P1DT12H
      variables:
      - x
  Jc:
  - jcdfi:
      alpha: 1.0e-13
      cutoff: PT3H
      type: DolphChebyshev
      variables:
      - x
  Jo:
    ObsTypes:
    - Covariance:
        covariance: diagonal
      ObsOperator:
        ObsType: Stream  
      ObsSpace:
        ObsDataIn:
          obsfile: Data/truth.obs4d_12h
        ObsDataOut:
          obsfile: Data/4densvar_bump.obs4d_12h
        ObsType: Stream
    - Covariance:
        covariance: diagonal
      ObsOperator:
        ObsType: Wind  
      ObsSpace:
        ObsDataIn:
          obsfile: Data/truth.obs4d_12h
        ObsDataOut:
          obsfile: Data/4densvar_bump.obs4d_12h
        ObsType: Wind
    - Covariance:
        covariance: diagonal
      ObsOperator:
        ObsType: WSpeed  
      ObsSpace:
        ObsDataIn:
          obsfile: Data/truth.obs4d_12h
        ObsDataOut:
          obsfile: Data/4densvar_bump.obs4d_12h
        ObsType: WSpeed
  varchange: Identity
  variables:
  - x
  window_begin: 2010-01-01T00:00:00Z
  window_length: PT12H
  window_sub: PT1H
final:
  diagnostics:
    departures: oman
  prints:
    frequency: PT1H
minimizer:
  algorithm: DRPLanczos
model:
  name: QG
  tstep: PT1H
  variables:
  - x
output:
  datadir: Data
  exp: forecast
  first: PT0S
  frequency: PT6H
  type: an
resolution:
  nx: 40
  ny: 20
  depths:
  - 4500.0
  - 5500.0
variational:
  iteration:
  - diagnostics:
      departures: ombg
    gradient_norm_reduction: 1.0e-10
    linearmodel:
      trajectory:
        tstep: PT1H
      tstep: PT1H
      varchange: Identity
      variables:
      - x
      version: QgTLM
    ninner: 10
    resolution:
      nx: 40
      ny: 20
      depths:
      - 4500.0
      - 5500.0
    test: on
  - gradient_norm_reduction: 1.0e-10
    linearmodel:
      trajectory:
        tstep: PT1H
      tstep: PT1H
      varchange: Identity
      variables:
      - x
      version: QgTLM
    ninner: 10
    resolution:
      nx: 40
      ny: 20
      depths:
      - 4500.0
      - 5500.0
    test: on
