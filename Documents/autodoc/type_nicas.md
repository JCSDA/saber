# Module type_nicas

| Type | Name | Purpose | Arguments          |
| :--: | :--: | :------ | :----------------- |
| subroutine | [nicas_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L82) | allocation | <b>nicas</b> :  NICAS data - class(nicas_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L129) | release memory (partial) | <b>nicas</b> :  NICAS data - class(nicas_type) - inout |
| subroutine | [nicas_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L150) | release memory (full) | <b>nicas</b> :  NICAS data - class(nicas_type) - inout |
| subroutine | [nicas_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L181) | read | <b>nicas</b> :  NICAS data - class(nicas_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L281) | write | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_send](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L402) | send | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>iproc</b> :  Destination task - integer - in |
| subroutine | [nicas_receive](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L470) | receive | <b>nicas</b> :  NICAS data - class(nicas_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>iproc</b> :  Source task - integer - in |
| subroutine | [nicas_run_nicas](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L531) | NICAS driver | <b>nicas</b> :  NICAS data - class(nicas_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - inout<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>cmat</b> :  C matrix data - type(cmat_type) - in |
| subroutine | [nicas_run_nicas_tests](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L594) | NICAS tests driver | <b>nicas</b> :  NICAS data - class(nicas_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - inout<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>io</b> :  I/O - type(io_type) - in<br><b>ens</b> :  Ensemble - type(ens_type) - in |
| subroutine | [nicas_alloc_cv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L691) | allocation | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>cv</b> :  Control vector - type(cv_type) - inout<br><b>getsizeonly</b> :  Flag to get the control variable size only (no allocation) - logical - in |
| subroutine | [nicas_random_cv](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L744) | generate a random control vector | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>cv</b> :  Control vector - type(cv_type) - out |
| subroutine | [nicas_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L810) | apply NICAS | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>fld</b> :  Field - real(kind_real) - inout |
| subroutine | [nicas_apply_from_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1013) | apply NICAS from square-root | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>fld</b> :  Field - real(kind_real) - inout |
| subroutine | [nicas_apply_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1060) | apply NICAS square-root | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>cv</b> :  Control variable - type(cv_type) - in<br><b>fld</b> :  Field - real(kind_real) - out |
| subroutine | [nicas_apply_sqrt_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1221) | apply NICAS square-root, adjoint | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>fld</b> :  Field - real(kind_real) - in<br><b>cv</b> :  Control variable - type(cv_type) - out |
| subroutine | [nicas_randomize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1414) | randomize NICAS from square-root | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Blocal parameters - type(bpar_type) - in<br><b>ne</b> :  Number of members - integer - in<br><b>ens</b> :  Ensemble - type(ens_type) - inout |
| subroutine | [nicas_apply_bens](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1458) | apply localized ensemble covariance | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Blocal parameters - type(bpar_type) - in<br><b>ens</b> :  Ensemble - type(ens_type) - in<br><b>fld</b> :  Field - real(kind_real) - inout |
| subroutine | [nicas_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1508) | test NICAS adjoint | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>ens</b> :  Ensemble - type(ens_type) - in |
| subroutine | [nicas_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1580) | apply NICAS to diracs | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>io</b> :  I/O - type(io_type) - in<br><b>ens</b> :  Ensemble - type(ens_type) - in |
| subroutine | [nicas_test_randomization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1638) | test NICAS randomization method with respect to theoretical error statistics | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist variables - type(nam_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in |
| subroutine | [nicas_test_consistency](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1770) | test HDIAG-NICAS consistency with a randomization method | <b>nicas</b> :  NICAS data - class(nicas_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist variables - type(nam_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - inout<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>io</b> :  I/O - type(io_type) - in |
| subroutine | [nicas_test_optimality](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L1897) | test HDIAG localization optimality with a randomization method | <b>nicas</b> :  NICAS data - class(nicas_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist variables - type(nam_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>io</b> :  I/O - type(io_type) - in |
| subroutine | [define_test_vectors](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas.F90#L2075) | define test vectors | <b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>ntest</b> :  Number of vectors - integer - in<br><b>fld</b> :  Field - real(kind_real) - out |
