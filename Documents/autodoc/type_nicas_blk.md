# Module type_nicas_blk

| Type | Name | Purpose | Arguments          |
| :--: | :--: | :------ | :----------------- |
| subroutine | [balldata_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L264) | allocation | <b>balldata</b> :  Ball data - class(balldata_type) - inout |
| subroutine | [balldata_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L282) | release memory | <b>balldata</b> :  Ball data - class(balldata_type) - inout |
| subroutine | [balldata_pack](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L304) | pack data into balldata object | <b>balldata</b> :  Ball data - class(balldata_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nc1u</b> :  Horizontal box size - integer - in<br><b>nl1</b> :  Vertical box size - integer - in<br><b>val</b> :  Box value - real(kind_real) - in |
| subroutine | [nicas_blk_partial_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L339) | release memory (partial) | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout |
| subroutine | [nicas_blk_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L423) | release memory (full) | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout |
| subroutine | [nicas_blk_read](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L482) | read | <b>nicas_blk</b> :  NICAS data - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>ncid</b> :  NetCDF file - integer - in |
| subroutine | [nicas_blk_write](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L618) | write | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>ncid</b> :  NetCDF file - integer - in |
| subroutine | [nicas_blk_write_grids](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L723) | write NICAS grids | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>ncid</b> :  NetCDF file - integer - in |
| subroutine | [nicas_blk_buffer_size](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L786) | buffer size | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>nbufi</b> :  Buffer size (integer) - integer - out<br><b>nbufr</b> :  Buffer size (real) - integer - out<br><b>nbufl</b> :  Buffer size (logical) - integer - out |
| subroutine | [nicas_blk_serialize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L862) | serialize | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>nbufi</b> :  Buffer size (integer) - integer - in<br><b>nbufr</b> :  Buffer size (real) - integer - in<br><b>nbufl</b> :  Buffer size (logical) - integer - in<br><b>bufi</b> :  Buffer (integer) - integer - out<br><b>bufr</b> :  Buffer (real) - real(kind_real) - out<br><b>bufl</b> :  Buffer (logical) - logical - out |
| subroutine | [nicas_blk_deserialize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1038) | deserialize | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>nbufi</b> :  Buffer size (integer) - integer - in<br><b>nbufr</b> :  Buffer size (real) - integer - in<br><b>nbufl</b> :  Buffer size (logical) - integer - in<br><b>bufi</b> :  Buffer (integer) - integer - in<br><b>bufr</b> :  Buffer (real) - real(kind_real) - in<br><b>bufl</b> :  Buffer (logical) - logical - in |
| subroutine | [nicas_blk_compute_parameters](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1256) | compute NICAS parameters | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>cmat_blk</b> :  C matrix data block - type(cmat_blk_type) - in<br><b>sqrt_rescaling</b> :  Square-root rescaling flag - logical - in |
| subroutine | [nicas_blk_compute_parameters_horizontal_smoother](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1398) | compute NICAS parameters for a horizontal smoother | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>rhflt</b> :  Horizontal support radius profile - real(kind_real) - in |
| subroutine | [nicas_blk_compute_sampling_c1](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1472) | compute NICAS sampling, subset Sc1 | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>cmat_blk</b> :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_sampling_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1625) | compute NICAS sampling, vertical dimension | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>cmat_blk</b> :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_mpi_a](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1719) | compute NICAS MPI distribution, halos A | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_sampling_c2](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1792) | compute NICAS sampling, subset Sc2 | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>cmat_blk</b> :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_mpi_ab](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L1919) | compute NICAS MPI distribution, halos A-B | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_interp_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2180) | compute vertical interpolation | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_convol](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2267) | compute convolution | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>cmat_blk</b> :  C matrix data block - type(cmat_blk_type) - in |
| subroutine | [nicas_blk_compute_convol_network](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2690) | compute convolution with a network approach | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_convol_distance](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L2935) | compute convolution with a distance approach | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_convol_weights](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3121) | compute convolution weights | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>ctmp</b> :  Convolution operator - type(linop_type) - inout |
| subroutine | [nicas_blk_compute_mpi_c](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3225) | compute NICAS MPI distribution, halo C | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout |
| subroutine | [nicas_blk_compute_internal_normalization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3375) | compute internal normalization | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout |
| subroutine | [nicas_blk_compute_normalization](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3447) | compute normalization | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_compute_grids](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3694) | compute grids | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in |
| subroutine | [nicas_blk_apply](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3765) | apply NICAS method | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fld</b> :  Field - real(kind_real) - inout |
| subroutine | [nicas_blk_apply_from_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3844) | apply NICAS method from its square-root formulation | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fld</b> :  Field - real(kind_real) - inout |
| subroutine | [nicas_blk_apply_sqrt](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3870) | apply NICAS method square-root | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>alpha</b> :  Subgrid field - real(kind_real) - in<br><b>fld</b> :  Field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_sqrt_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3914) | apply NICAS method square-root adjoint | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fld</b> :  Field - real(kind_real) - in<br><b>alpha</b> :  Subgrid field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3961) | apply interpolation | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>alpha</b> :  Subgrid field - real(kind_real) - in<br><b>fld</b> :  Field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L3990) | apply interpolation adjoint | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fld</b> :  Field - real(kind_real) - in<br><b>alpha</b> :  Subgrid field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_h](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4019) | apply horizontal interpolation | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>delta</b> :  Subset Sc1 field, full levels - real(kind_real) - in<br><b>fld</b> :  Field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_h_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4050) | apply horizontal interpolation adjoint | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fld</b> :  Field - real(kind_real) - in<br><b>delta</b> :  Subset Sc1 field, full levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_v](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4080) | apply vertical interpolation | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>gamma</b> :  Subset Sc1 field, limited levels - real(kind_real) - in<br><b>delta</b> :  Subset Sc1 field, full levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_v_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4129) | apply vertical interpolation adjoint | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>delta</b> :  Subset Sc1 field, full levels - real(kind_real) - in<br><b>gamma</b> :  Subset Sc1 field, limited levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_s](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4171) | apply subsampling interpolation | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>alpha</b> :  Subgrid field - real(kind_real) - in<br><b>gamma</b> :  Subset Sc1 field, limited levels - real(kind_real) - out |
| subroutine | [nicas_blk_apply_interp_s_ad](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4208) | apply subsampling interpolation adjoint | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>gamma</b> :  Subset Sc1 field, limited levels - real(kind_real) - in<br><b>alpha</b> :  Subgrid field - real(kind_real) - out |
| subroutine | [nicas_blk_apply_convol](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4241) | apply convolution | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>alpha</b> :  Subgrid field - real(kind_real) - inout |
| subroutine | [nicas_blk_test_adjoint](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4276) | test NICAS adjoint accuracy | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>rng</b> :  Random number generator - type(rng_type) - inout<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [nicas_blk_test_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_nicas_blk.F90#L4514) | apply NICAS to diracs | <b>nicas_blk</b> :  NICAS data block - class(nicas_blk_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>bpar</b> :  Block parameters - type(bpar_type) - in<br><b>io</b> :  I/O - type(io_type) - in |
