# Module type_ens

| Type | Name | Purpose | Arguments          |
| :--: | :--: | :------ | :----------------- |
| subroutine | [ens_set_att](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L72) | set attributes | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>ne</b> :  Ensemble size - integer - in<br><b>nsub</b> :  Number of sub-ensembles - integer - in |
| subroutine | [ens_alloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L91) | allocation | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>ne</b> :  Ensemble size - integer - in<br><b>nsub</b> :  Number of sub-ensembles - integer - in |
| subroutine | [ens_dealloc](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L113) | release memory | <b>ens</b> :  Ensemble - class(ens_type) - inout |
| subroutine | [ens_copy](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L149) | copy | <b>ens_out</b> :  Output ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>ens_in</b> :  Input ensemble - type(ens_type) - in |
| subroutine | [ens_compute_mean](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L196) | compute ensemble mean(s) | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [ens_compute_moments](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L230) | compute 2nd- and 4th-order centered moments | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [ens_normalize](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L280) | normalize ensemble members as perturbations (zero mean) with unit variance | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in |
| subroutine | [ens_get_c0_single](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L334) | get ensemble field on subset Sc0, single field | <b>ens</b> :  Ensemble - class(ens_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>iv</b> :  Variable index - integer - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fieldtype</b> :  Field type ('member', 'pert', 'mean', 'm2' or 'm4') - character(len=*) - in<br><b>i</b> :  Index (member or subset) - integer - in<br><b>fld_c0a</b> :  Field on Sc0 subset, halo A - real(kind_real) - out |
| subroutine | [ens_get_c0_all](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L426) | get ensemble field on subset Sc0, all field | <b>ens</b> :  Ensemble - class(ens_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fieldtype</b> :  Field type ('member', 'pert', 'mean', 'm2' or 'm4') - character(len=*) - in<br><b>i</b> :  Index (member or subset) - integer - in<br><b>fld_c0a</b> :  Field on Sc0 subset, halo A - real(kind_real) - out |
| subroutine | [ens_set_c0_single](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L453) | set ensemble member on subset Sc0, single field | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>iv</b> :  Variable index - integer - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fieldtype</b> :  Field type ('member', 'pert', 'mean', 'm2' or 'm4') - character(len=*) - in<br><b>i</b> :  Index (member or subset) - integer - in<br><b>fld_c0a</b> :  Field on Sc0 subset, halo A - real(kind_real) - in |
| subroutine | [ens_set_c0_all](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L546) | get ensemble member or perturbation on subset Sc0, all field | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fieldtype</b> :  Field type ('member', 'pert', 'mean', 'm2' or 'm4') - character(len=*) - in<br><b>i</b> :  Index (member or subset) - integer - in<br><b>fld_c0a</b> :  Field on Sc0 subset, halo A - real(kind_real) - in |
| subroutine | [ens_apply_bens](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L571) | apply raw ensemble covariance | <b>ens</b> :  Ensemble - class(ens_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>fld</b> :  Field - real(kind_real) - inout |
| subroutine | [ens_apply_bens_dirac](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L630) | apply raw ensemble covariance to a Dirac (faster formulation) | <b>ens</b> :  Ensemble - class(ens_type) - in<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>iprocdir</b> :  Processor index for dirac function - integer - in<br><b>ic0adir</b> :  Subset Sc0, halo A index for dirac function - integer - in<br><b>il0dir</b> :  Subset Sl0 index for dirac function - integer - in<br><b>ivdir</b> :  Variable index for dirac function - integer - in<br><b>fld</b> :  Field - real(kind_real) - out |
| subroutine | [ens_normality](https://github.com/JCSDA/saber/tree/develop/src/saber/bump/type_ens.F90#L681) | perform some normality diagnostics | <b>ens</b> :  Ensemble - class(ens_type) - inout<br><b>mpl</b> :  MPI data - type(mpl_type) - inout<br><b>nam</b> :  Namelist - type(nam_type) - in<br><b>geom</b> :  Geometry - type(geom_type) - in<br><b>io</b> :  I/O - type(io_type) - in |
